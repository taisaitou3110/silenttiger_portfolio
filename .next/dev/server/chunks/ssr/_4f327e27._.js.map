{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/app/poker/usePoker.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from 'react';\n\n// カードの強さ順（JOKERを最強に設定）\nconst CARD_TYPES = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A', 'JK'];\n\nexport function usePoker(initialGold: number = 5000, initialBet: number = 100) {\n  const [gold, setGold] = useState(initialGold);\n  const [startGold, setStartGold] = useState(initialGold); // To keep track of the chosen starting gold for reset\n  const [currentBetAmount, setCurrentBetAmount] = useState(initialBet); // To keep track of the chosen initial bet\n  const [deck, setDeck] = useState<string[]>([]);\n  const [usedCards, setUsedCards] = useState<string[]>([]);\n  const [currentCard, setCurrentCard] = useState('');\n  const [nextCard, setNextCard] = useState('');\n  const [bet, setBet] = useState(0);\n  const [message, setMessage] = useState('100G はらって ゲームを はじめよう！');\n  const [gameState, setGameState] = useState<'IDLE' | 'PLAYING' | 'RESULT' | 'LOSE' | 'CLEAR'>('IDLE');\n\n  // 54枚の山札を生成する関数\n  const createFullDeck = () => {\n    const newDeck: string[] = [];\n    // 2〜Aまでを4枚ずつ追加\n    CARD_TYPES.slice(0, 13).forEach(type => {\n      for (let i = 0; i < 4; i++) newDeck.push(type);\n    });\n    // ジョーカーを2枚追加\n    newDeck.push('JK');\n    newDeck.push('JK');\n    return newDeck.sort(() => Math.random() - 0.5);\n  };\n\n  useEffect(() => {\n    if (deck.length === 0) {\n      setDeck(createFullDeck());\n    }\n  }, []);\n\n  const pullCard = (currentDeck: string[]) => {\n    let tempDeck = [...currentDeck];\n    if (tempDeck.length === 0) {\n      // 山札が切れたらその場で新しく生成\n      tempDeck = createFullDeck();\n      setUsedCards([]); \n      setMessage(\"山札が なくなったので あたらしく つくった！\");\n    }\n    const card = tempDeck.pop()!;\n    setDeck(tempDeck);\n    return card;\n  };\n\n  const startNewHand = () => {\n    if (gold < currentBetAmount) return; // Use currentBetAmount\n    setGold(prev => prev - currentBetAmount); // Deduct currentBetAmount\n    const card = pullCard(deck);\n    setCurrentCard(card);\n    setUsedCards(prev => [...prev, card]);\n    setBet(currentBetAmount); // Set bet to currentBetAmount\n    setGameState('PLAYING');\n    setMessage(`スライムは ${card} をだした！ 上か？下か？`);\n  };\n\n  const handleGuess = (guess: 'HIGH' | 'LOW') => {\n    const newCard = pullCard(deck);\n    setNextCard(newCard);\n    setUsedCards(prev => [...prev, newCard]);\n    \n    const currentIndex = CARD_TYPES.indexOf(currentCard);\n    const nextIndex = CARD_TYPES.indexOf(newCard);\n    \n    if (currentIndex === nextIndex) {\n      setMessage(`引き分けだ！ ${currentCard} のまま やり直し！`);\n    } else if ((guess === 'HIGH' && nextIndex > currentIndex) || (guess === 'LOW' && nextIndex < currentIndex)) {\n      setBet(prev => prev * 2);\n      setMessage(`当たり！ 配当が ${bet * 2}G になった！`);\n      setGameState('RESULT');\n    } else {\n      setBet(0);\n      setGameState('LOSE');\n      setMessage(`残念！ 全てを失った… (${newCard} だった！)`);\n    }\n  };\n\n  const collect = () => {\n    const newTotal = gold + bet;\n    setGold(newTotal);\n    setBet(0);\n    if (newTotal >= 10000) {\n      setGameState('CLEAR');\n      setMessage(`10000G 到達！ おめでとう！ お前の完全勝利だ！`);\n    } else {\n      setGameState('IDLE');\n      setMessage(`${bet}G 獲得！ 次はどうする？`);\n    }\n  };\n\n  const continueGame = () => {\n    setCurrentCard(nextCard);\n    setNextCard('');\n    setGameState('PLAYING');\n    setMessage(`${nextCard} より 上か？下か？`);\n  };\n\n  const fullReset = () => {\n    setGold(startGold); // Reset to startGold\n    setDeck(createFullDeck());\n    setUsedCards([]);\n    setBet(0);\n    setGameState('IDLE');\n    setMessage(`${currentBetAmount}G はらって ゲームを はじめよう！`); // Update message\n  };\n\n  return {\n    gold, deck, usedCards, currentCard, nextCard, bet, message, gameState,\n    startNewHand, handleGuess, collect, continueGame, fullReset, CARD_TYPES,\n    startGold, setStartGold, currentBetAmount, setCurrentBetAmount\n  };\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/app/poker/actions.ts"],"sourcesContent":["\"use server\";\n\nimport prisma from \"@/lib/prisma\";\nimport { revalidatePath } from \"next/cache\";\n\nexport async function addAchiever(name: string, gold: number) {\n  // Validate name: 4 uppercase alphabetic characters\n  if (!/^[A-Z]{1,4}$/.test(name)) {\n    return { error: \"Name must be 1 to 4 uppercase alphabetic characters.\" };\n  }\n\n  // Enforce gold cap\n  let cappedGold = gold;\n  if (cappedGold > 65535) {\n    cappedGold = 65535;\n  }\n  if (cappedGold < 0) { // Also ensure non-negative\n      cappedGold = 0;\n  }\n\n  try {\n    const newAchiever = await prisma.pokerAchiever.create({\n      data: {\n        name,\n        finalGold: cappedGold, // Use the capped gold value\n      },\n    });\n    revalidatePath(\"/poker\"); // Revalidate the poker page to show updated ranking\n    return { success: true, data: newAchiever };\n  } catch (error: any) {\n    if (error.code === 'P2002') { // Unique constraint violation\n      return { error: `Achiever with name '${name}' already exists.` };\n    }\n    console.error(\"Error adding poker achiever:\", error);\n    return { error: \"Failed to add achiever.\" };\n  }\n}\n\nexport async function getAchievers() {\n  try {\n    const achievers = await prisma.pokerAchiever.findMany({\n      orderBy: {\n        achievedAt: \"asc\", // Order by achievement date, oldest first\n      },\n      take: 10, // Get top 10 achievers, adjust as needed\n    });\n    return { success: true, data: achievers };\n  } catch (error) {\n    console.error(\"Error fetching poker achievers:\", error);\n    return { error: \"Failed to fetch achievers.\" };\n  }\n}"],"names":[],"mappings":";;;;;;;MAKsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,+CAAA"}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/app/poker/actions.ts"],"sourcesContent":["\"use server\";\n\nimport prisma from \"@/lib/prisma\";\nimport { revalidatePath } from \"next/cache\";\n\nexport async function addAchiever(name: string, gold: number) {\n  // Validate name: 4 uppercase alphabetic characters\n  if (!/^[A-Z]{1,4}$/.test(name)) {\n    return { error: \"Name must be 1 to 4 uppercase alphabetic characters.\" };\n  }\n\n  // Enforce gold cap\n  let cappedGold = gold;\n  if (cappedGold > 65535) {\n    cappedGold = 65535;\n  }\n  if (cappedGold < 0) { // Also ensure non-negative\n      cappedGold = 0;\n  }\n\n  try {\n    const newAchiever = await prisma.pokerAchiever.create({\n      data: {\n        name,\n        finalGold: cappedGold, // Use the capped gold value\n      },\n    });\n    revalidatePath(\"/poker\"); // Revalidate the poker page to show updated ranking\n    return { success: true, data: newAchiever };\n  } catch (error: any) {\n    if (error.code === 'P2002') { // Unique constraint violation\n      return { error: `Achiever with name '${name}' already exists.` };\n    }\n    console.error(\"Error adding poker achiever:\", error);\n    return { error: \"Failed to add achiever.\" };\n  }\n}\n\nexport async function getAchievers() {\n  try {\n    const achievers = await prisma.pokerAchiever.findMany({\n      orderBy: {\n        achievedAt: \"asc\", // Order by achievement date, oldest first\n      },\n      take: 10, // Get top 10 achievers, adjust as needed\n    });\n    return { success: true, data: achievers };\n  } catch (error) {\n    console.error(\"Error fetching poker achievers:\", error);\n    return { error: \"Failed to fetch achievers.\" };\n  }\n}"],"names":[],"mappings":";;;;;;;MAsCsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,gDAAA"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/app/poker/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from 'react'; // Import useEffect and useState\nimport { usePoker } from './usePoker';\nimport { addAchiever, getAchievers } from './actions'; // Import the new actions\n\n// Define a type for Achiever for better type safety\ninterface Achiever {\n  id: string;\n  name: string;\n  finalGold: number;\n  achievedAt: string; // Assuming it's returned as a string\n}\n\nexport default function PokerPage() {\n  const [selectedStartGold, setSelectedStartGold] = useState(5000); // Default to 5000G\n  const [selectedInitialBet, setSelectedInitialBet] = useState(100); // Default to 100G\n\n  const {\n    gold, deck, usedCards, currentCard, nextCard, bet, message, gameState,\n    startNewHand, handleGuess, collect, continueGame, fullReset, CARD_TYPES,\n    startGold, setStartGold, currentBetAmount, setCurrentBetAmount // Destructure setters\n  } = usePoker(selectedStartGold, selectedInitialBet); // Pass selected values\n\n  const [achievers, setAchievers] = useState<Achiever[]>([]);\n  const [achieverNameInput, setAchieverNameInput] = useState('');\n  const [submitMessage, setSubmitMessage] = useState('');\n\n  useEffect(() => {\n    const fetchAchievers = async () => {\n      const result = await getAchievers();\n      if (result.success && result.data) { // Ensure data exists\n        setAchievers(result.data);\n      } else {\n        console.error(\"Failed to fetch achievers:\", result.error);\n      }\n    };\n    fetchAchievers();\n  }, []); // Empty dependency array means this runs once on mount\n\n  const handleSubmitAchiever = async () => {\n    setSubmitMessage('Submitting...');\n    // Basic client-side validation before sending to server action\n    if (!/^[A-Z]{1,4}$/.test(achieverNameInput)) {\n      setSubmitMessage('Error: Name must be 1 to 4 uppercase alphabetic characters.');\n      return;\n    }\n\n    const result = await addAchiever(achieverNameInput.toUpperCase(), gold); // Pass 'gold' here\n    if (result.success && result.data) { // Ensure data exists\n      setSubmitMessage('Successfully registered!');\n      // Update local state and sort by achievedAt for display\n      setAchievers(prev => \n        [...prev, result.data].sort((a, b) => \n          new Date(a.achievedAt).getTime() - new Date(b.achievedAt).getTime()\n        )\n      );\n      setAchieverNameInput(''); // Clear input\n    } else {\n      setSubmitMessage(`Error: ${result.error}`);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black text-white p-4 font-mono select-none flex flex-col lg:flex-row gap-6 justify-center items-start max-w-7xl mx-auto\">\n      \n      {/* メインゲームエリア (幅 約2/3) */}\n      <div className=\"w-full lg:w-2/3\">\n        {/* ステータスウィンドウ */}\n        <div className=\"border-4 border-white p-4 mb-4 bg-blue-900 shadow-[4px_4px_0_0_rgba(255,255,255,1)]\">\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-2xl font-bold text-yellow-400 font-serif tracking-tighter\">GOLD: {gold}G</span>\n            <span className=\"text-xs opacity-50 font-bold\">山札残り: {deck.length} / 54枚</span>\n          </div>\n          {bet > 0 && (\n            <div className=\"text-red-400 mt-2 animate-pulse text-lg font-bold text-center border-t border-white/20 pt-2\">\n              現在の配当: {bet}G\n            </div>\n          )}\n        </div>\n\n        {/* メッセージウィンドウ */}\n        <div className=\"border-4 border-white p-6 bg-blue-900 min-h-[120px] flex items-center mb-8 relative shadow-[4px_4px_0_0_rgba(255,255,255,1)]\">\n          <p className=\"text-xl leading-relaxed font-bold\">➤ {message}</p>\n          <div className=\"absolute bottom-2 right-4 animate-bounce text-xs opacity-50\">▼</div>\n        </div>\n\n        {/* カード表示エリア */}\n        <div className=\"flex justify-center gap-10 mb-12\">\n          <CardDisplay value={currentCard} label=\"いま\" />\n          <CardDisplay \n            value={(gameState === 'RESULT' || gameState === 'LOSE') ? nextCard : '?'} \n            label=\"つぎ\" \n          />\n        </div>\n\n        {/* 操作コマンド */}\n        <div className=\"space-y-3 max-w-sm mx-auto\">\n          {/* ゲーム開始前、または負けた後 */}\n          {(gameState === 'IDLE' || gameState === 'LOSE') && gold >= selectedInitialBet && ( // Use selectedInitialBet here\n            <>\n              {/* Start Gold Selection */}\n              <div className=\"space-y-2\">\n                <h4 className=\"text-yellow-400 font-bold text-center\">開始ゴールドを選択:</h4>\n                <div className=\"flex justify-center gap-4\">\n                  {[5000, 2000, 500].map(amount => (\n                    <MenuButton \n                      key={amount} \n                      onClick={() => {\n                        setSelectedStartGold(amount);\n                        setStartGold(amount); // Update usePoker's internal state\n                      }}\n                      highlight={selectedStartGold === amount}\n                    >\n                      {amount}G\n                    </MenuButton>\n                  ))}\n                </div>\n              </div>\n\n              {/* Initial Bet Selection */}\n              <div className=\"space-y-2 mt-4\">\n                <h4 className=\"text-yellow-400 font-bold text-center\">初回ベット額を選択:</h4>\n                <div className=\"flex justify-center gap-4\">\n                  {[100, 500, 1000].map(amount => (\n                    <MenuButton \n                      key={amount} \n                      onClick={() => {\n                        setSelectedInitialBet(amount);\n                        setCurrentBetAmount(amount); // Update usePoker's internal state\n                      }}\n                      highlight={selectedInitialBet === amount}\n                    >\n                      {amount}G\n                    </MenuButton>\n                  ))}\n                </div>\n              </div>\n\n              <MenuButton onClick={startNewHand}>ぼうけんに でる ({currentBetAmount}G)</MenuButton> {/* Use currentBetAmount */}\n              <MenuButton onClick={() => window.location.href = '/'}>ゲームを やめる</MenuButton>\n            </>\n          )}\n\n          {/* 破産時 */}\n          {gold < selectedInitialBet && gameState !== 'PLAYING' && gameState !== 'RESULT' && ( // Use selectedInitialBet here\n             <MenuButton onClick={fullReset}>復活の呪文を となえる (リセット)</MenuButton>\n          )}\n\n          {/* HIGH/LOW 選択中 */}\n          {gameState === 'PLAYING' && (\n            <div className=\"grid grid-cols-2 gap-4\">\n              <MenuButton onClick={() => handleGuess('HIGH')}>HIGH (上)</MenuButton>\n              <MenuButton onClick={() => handleGuess('LOW')}>LOW (下)</MenuButton>\n            </div>\n          )}\n\n          {/* 当たり判定後 */}\n          {gameState === 'RESULT' && (\n            <div className=\"flex flex-col gap-3\">\n              <MenuButton onClick={continueGame} highlight>ダブルアップに いどむ</MenuButton>\n              <MenuButton onClick={collect}>ゴールドを かいしゅう</MenuButton>\n            </div>\n          )}\n\n          {/* 10,000G クリア時 */}\n          {gameState === 'CLEAR' && (\n            <div className=\"flex flex-col gap-3\">\n              <div className=\"border-4 border-yellow-400 p-4 bg-yellow-900 text-yellow-50 text-center font-bold text-xl mb-4 shadow-[4px_4px_0_0_rgba(252,211,77,1)]\">\n                10000G 達成おめでとう！\n              </div>\n              <input\n                type=\"text\"\n                placeholder=\"名前 (4文字以内, 大文字英字)\"\n                className=\"w-full p-3 bg-gray-700 text-white border-2 border-gray-600 focus:border-yellow-400 outline-none uppercase text-center\"\n                maxLength={4}\n                value={achieverNameInput}\n                onChange={(e) => setAchieverNameInput(e.target.value.toUpperCase())}\n              />\n              <MenuButton onClick={handleSubmitAchiever} highlight>\n                ランキングに登録\n              </MenuButton>\n              {submitMessage && <p className=\"text-center text-sm mt-2\">{submitMessage}</p>}\n              <MenuButton onClick={fullReset}>➤ 伝説の勇者として 戻る</MenuButton>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* 右側：履歴エリア + ランキングエリア (幅 約1/3) */}\n      <div className=\"w-full lg:w-1/3 flex flex-col gap-6\">\n        {/* 履歴エリア */}\n        <div className=\"border-4 border-white p-4 bg-blue-900 shadow-[4px_4px_0_0_rgba(255,255,255,1)]\">\n          <h3 className=\"text-yellow-400 text-lg mb-4 border-b-2 border-white pb-2 font-bold text-center italic tracking-widest\">\n            でたカード記録\n          </h3>\n          <div className=\"space-y-1\">\n            {CARD_TYPES.map(type => {\n              const count = usedCards.filter(c => c === type).length;\n              const max = type === 'JK' ? 2 : 4;\n              const hasAppeared = count > 0;\n              \n              return (\n                <div key={type} className={`flex justify-between items-center px-2 py-1 border-b border-white/10 transition-all duration-300 ${hasAppeared ? 'text-white' : 'opacity-20 text-gray-500'}`}>\n                  <span className=\"font-bold w-8\">{type}</span>\n                  {/* 履歴のドット表示 */}\n                  <div className=\"flex gap-1 flex-1 justify-center\">\n                    {[...Array(max)].map((_, i) => (\n                      <div \n                        key={i} \n                        className={`w-3 h-3 border transition-colors ${\n                          i < count \n                            ? 'bg-yellow-400 border-yellow-400 shadow-[0_0_5px_rgba(255,255,0,0.5)]' \n                            : 'border-white/30'\n                        }`} \n                      />\n                    ))}\n                  </div>\n                  <span className={`text-xs ml-2 w-6 text-right ${hasAppeared ? 'text-yellow-400' : ''}`}>\n                    {count}\n                  </span>\n                </div>\n              );\n            })}\n          </div>\n          {gold <= 0 && (gameState === 'IDLE' || gameState === 'LOSE') && (\n            <div className=\"mt-6 p-2 border-2 border-red-500 text-red-500 text-center animate-pulse font-bold text-xs\">\n              破産しました...\n            </div>\n          )}\n        </div>\n\n        {/* ランキングエリア */}\n        <div className=\"border-4 border-white p-4 bg-blue-900 shadow-[4px_4px_0_0_rgba(255,255,255,1)] self-stretch\">\n          <h3 className=\"text-yellow-400 text-lg mb-4 border-b-2 border-white pb-2 font-bold text-center italic tracking-widest\">\n            10000G 達成者ランキング\n          </h3>\n          {achievers.length === 0 ? (\n            <p className=\"text-center text-gray-400\">まだ達成者はいません。</p>\n          ) : (\n            <ol className=\"list-decimal list-inside space-y-1\">\n              {achievers.map((achiever, index) => (\n                <li key={achiever.id} className=\"flex justify-between items-center py-1 border-b border-white/10 last:border-b-0\">\n                  <span className=\"font-bold text-lg\">{index + 1}. {achiever.name}</span>\n                  <span className=\"text-yellow-400 text-base\">{achiever.finalGold}G</span>\n                  <span className=\"text-sm text-gray-400 ml-2\">\n                    {/* Display date with time and minutes */}\n                    {new Date(achiever.achievedAt).toLocaleString('ja-JP', { // Using 'ja-JP' for locale, can be changed\n                        year: 'numeric',\n                        month: 'numeric',\n                        day: 'numeric',\n                        hour: '2-digit',\n                        minute: '2-digit',\n                        hour12: false // 24-hour format\n                    })}\n                  </span>\n                </li>\n              ))}\n            </ol>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// --- サポートコンポーネント ---\n\nfunction CardDisplay({ value, label }: { value: string, label: string }) {\n  const isBack = value === '?' || value === '';\n  const isJoker = value === 'JK';\n  return (\n    <div className=\"text-center\">\n      <div className=\"text-xs mb-2 text-gray-400 font-bold uppercase tracking-widest\">{label}</div>\n      <div className={`w-24 h-36 md:w-32 md:h-48 rounded-xl flex items-center justify-center text-4xl md:text-5xl font-bold border-4 shadow-2xl transition-all duration-300 transform ${isBack ? 'bg-blue-700 border-white text-white' : 'bg-white text-black border-gray-400'} ${isJoker ? 'text-red-600 ring-4 ring-red-600' : ''}`}>\n        {value}\n      </div>\n    </div>\n  );\n}\n\nfunction MenuButton({ children, onClick, highlight = false }: { children: React.ReactNode, onClick: () => void, highlight?: boolean }) {\n  return (\n    <button \n      onClick={onClick} \n      className={`w-full text-left px-6 py-4 border-2 border-transparent hover:border-white group flex items-center transition-all duration-75 bg-blue-900/40 hover:bg-blue-800 ${highlight ? 'text-yellow-400' : 'text-white'}`}\n    >\n      <span className=\"opacity-0 group-hover:opacity-100 mr-3 font-bold text-2xl transition-transform transform translate-x-[-4px] group-hover:translate-x-0\">➤</span>\n      <span className=\"text-xl font-bold tracking-tight\">{children}</span>\n    </button>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 822, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/node_modules/next/src/client/components/router-reducer/router-reducer-types.ts"],"sourcesContent":["import type { CacheNode } from '../../../shared/lib/app-router-types'\nimport type {\n  FlightRouterState,\n  FlightSegmentPath,\n} from '../../../shared/lib/app-router-types'\nimport type { NavigationSeed } from '../segment-cache/navigation'\nimport type { FetchServerResponseResult } from './fetch-server-response'\n\nexport const ACTION_REFRESH = 'refresh'\nexport const ACTION_NAVIGATE = 'navigate'\nexport const ACTION_RESTORE = 'restore'\nexport const ACTION_SERVER_PATCH = 'server-patch'\nexport const ACTION_HMR_REFRESH = 'hmr-refresh'\nexport const ACTION_SERVER_ACTION = 'server-action'\n\nexport type RouterChangeByServerResponse = ({\n  navigatedAt,\n  previousTree,\n  serverResponse,\n}: {\n  navigatedAt: number\n  previousTree: FlightRouterState\n  serverResponse: FetchServerResponseResult\n}) => void\n\nexport interface Mutable {\n  mpaNavigation?: boolean\n  patchedTree?: FlightRouterState\n  renderedSearch?: string\n  canonicalUrl?: string\n  scrollableSegments?: FlightSegmentPath[]\n  pendingPush?: boolean\n  cache?: CacheNode\n  hashFragment?: string\n  shouldScroll?: boolean\n  preserveCustomHistoryState?: boolean\n  onlyHashChange?: boolean\n  collectedDebugInfo?: Array<unknown>\n}\n\nexport interface ServerActionMutable extends Mutable {\n  inFlightServerAction?: Promise<any> | null\n}\n\n/**\n * Refresh triggers a refresh of the full page data.\n * - fetches the Flight data and fills rsc at the root of the cache.\n * - The router state is updated at the root.\n */\nexport interface RefreshAction {\n  type: typeof ACTION_REFRESH\n}\n\nexport interface HmrRefreshAction {\n  type: typeof ACTION_HMR_REFRESH\n}\n\nexport type ServerActionDispatcher = (\n  args: Omit<\n    ServerActionAction,\n    'type' | 'mutable' | 'navigate' | 'changeByServerResponse' | 'cache'\n  >\n) => void\n\nexport interface ServerActionAction {\n  type: typeof ACTION_SERVER_ACTION\n  actionId: string\n  actionArgs: any[]\n  resolve: (value: any) => void\n  reject: (reason?: any) => void\n  didRevalidate?: boolean\n}\n\n/**\n * Navigate triggers a navigation to the provided url. It supports two types: `push` and `replace`.\n *\n * `navigateType`:\n * - `push` - pushes a new history entry in the browser history\n * - `replace` - replaces the current history entry in the browser history\n *\n * Navigate has multiple cache heuristics:\n * - page was prefetched\n *  - Apply router state tree from prefetch\n *  - Apply Flight data from prefetch to the cache\n *  - If Flight data is a string, it's a redirect and the state is updated to trigger a redirect\n *  - Check if hard navigation is needed\n *    - Hard navigation happens when a dynamic parameter below the common layout changed\n *    - When hard navigation is needed the cache is invalidated below the flightSegmentPath\n *    - The missing cache nodes of the page will be fetched in layout-router and trigger the SERVER_PATCH action\n *  - If hard navigation is not needed\n *    - The cache is reused\n *    - If any cache nodes are missing they'll be fetched in layout-router and trigger the SERVER_PATCH action\n * - page was not prefetched\n *  - The navigate was called from `next/router` (`router.push()` / `router.replace()`) / `next/link` without prefetched data available (e.g. the prefetch didn't come back from the server before clicking the link)\n *    - Flight data is fetched in the reducer (suspends the reducer)\n *    - Router state tree is created based on Flight data\n *    - Cache is filled based on the Flight data\n *\n * Above steps explain 3 cases:\n * - `soft` - Reuses the existing cache and fetches missing nodes in layout-router.\n * - `hard` - Creates a new cache where cache nodes are removed below the common layout and fetches missing nodes in layout-router.\n * - `optimistic` (explicit no prefetch) - Creates a new cache and kicks off the data fetch in the reducer. The data fetch is awaited in the layout-router.\n */\nexport interface NavigateAction {\n  type: typeof ACTION_NAVIGATE\n  url: URL\n  isExternalUrl: boolean\n  locationSearch: Location['search']\n  navigateType: 'push' | 'replace'\n  shouldScroll: boolean\n}\n\n/**\n * Restore applies the provided router state.\n * - Used for `popstate` (back/forward navigation) where a known router state has to be applied.\n * - Also used when syncing the router state with `pushState`/`replaceState` calls.\n * - Router state is applied as-is from the history state, if available.\n * - If the history state does not contain the router state, the existing router state is used.\n * - If any cache node is missing it will be fetched in layout-router during rendering and the server-patch case.\n * - If existing cache nodes match these are used.\n */\nexport interface RestoreAction {\n  type: typeof ACTION_RESTORE\n  url: URL\n  historyState: AppHistoryState | undefined\n}\n\nexport type AppHistoryState = {\n  tree: FlightRouterState\n  renderedSearch: string\n}\n\n/**\n * Server-patch applies the provided Flight data to the cache and router tree.\n */\nexport interface ServerPatchAction {\n  type: typeof ACTION_SERVER_PATCH\n  previousTree: FlightRouterState\n  url: URL\n  nextUrl: string | null\n  seed: NavigationSeed | null\n  mpa: boolean\n}\n\n/**\n * PrefetchKind defines the type of prefetching that should be done.\n * - `auto` - if the page is dynamic, prefetch the page data partially, if static prefetch the page data fully.\n * - `full` - prefetch the page data fully.\n */\n\nexport enum PrefetchKind {\n  AUTO = 'auto',\n  FULL = 'full',\n}\n\n/**\n * Prefetch adds the provided FlightData to the prefetch cache\n * - Creates the router state tree based on the patch in FlightData\n * - Adds the FlightData to the prefetch cache\n * - In ACTION_NAVIGATE the prefetch cache is checked and the router state tree and FlightData are applied.\n */\n\nexport interface PushRef {\n  /**\n   * If the app-router should push a new history entry in app-router's useEffect()\n   */\n  pendingPush: boolean\n  /**\n   * Multi-page navigation through location.href.\n   */\n  mpaNavigation: boolean\n  /**\n   * Skip applying the router state to the browser history state.\n   */\n  preserveCustomHistoryState: boolean\n}\n\nexport type FocusAndScrollRef = {\n  /**\n   * If focus and scroll should be set in the layout-router's useEffect()\n   */\n  apply: boolean\n  /**\n   * The hash fragment that should be scrolled to.\n   */\n  hashFragment: string | null\n  /**\n   * The paths of the segments that should be focused.\n   */\n  segmentPaths: FlightSegmentPath[]\n  /**\n   * If only the URLs hash fragment changed\n   */\n  onlyHashChange: boolean\n}\n\n/**\n * Handles keeping the state of app-router.\n */\nexport type AppRouterState = {\n  /**\n   * The router state, this is written into the history state in app-router using replaceState/pushState.\n   * - Has to be serializable as it is written into the history state.\n   * - Holds which segments and parallel routes are shown on the screen.\n   */\n  tree: FlightRouterState\n  /**\n   * The cache holds React nodes for every segment that is shown on screen as well as previously shown segments.\n   * It also holds in-progress data requests.\n   */\n  cache: CacheNode\n  /**\n   * Decides if the update should create a new history entry and if the navigation has to trigger a browser navigation.\n   */\n  pushRef: PushRef\n  /**\n   * Decides if the update should apply scroll and focus management.\n   */\n  focusAndScrollRef: FocusAndScrollRef\n  /**\n   * The canonical url that is pushed/replaced.\n   * - This is the url you see in the browser.\n   */\n  canonicalUrl: string\n  renderedSearch: string\n  /**\n   * The underlying \"url\" representing the UI state, which is used for intercepting routes.\n   */\n  nextUrl: string | null\n\n  /**\n   * The previous next-url that was used previous to a dynamic navigation.\n   */\n  previousNextUrl: string | null\n\n  debugInfo: Array<unknown> | null\n}\n\nexport type ReadonlyReducerState = Readonly<AppRouterState>\nexport type ReducerState =\n  | (Promise<AppRouterState> & { _debugInfo?: Array<unknown> })\n  | AppRouterState\nexport type ReducerActions = Readonly<\n  | RefreshAction\n  | NavigateAction\n  | RestoreAction\n  | ServerPatchAction\n  | HmrRefreshAction\n  | ServerActionAction\n>\n"],"names":["ACTION_HMR_REFRESH","ACTION_NAVIGATE","ACTION_REFRESH","ACTION_RESTORE","ACTION_SERVER_ACTION","ACTION_SERVER_PATCH","PrefetchKind"],"mappings":";;;;;;;;;;;;;;;;;;;IAYaA,kBAAkB,EAAA;eAAlBA;;IAHAC,eAAe,EAAA;eAAfA;;IADAC,cAAc,EAAA;eAAdA;;IAEAC,cAAc,EAAA;eAAdA;;IAGAC,oBAAoB,EAAA;eAApBA;;IAFAC,mBAAmB,EAAA;eAAnBA;;IA2IDC,YAAY,EAAA;eAAZA;;;AA9IL,MAAMJ,iBAAiB;AACvB,MAAMD,kBAAkB;AACxB,MAAME,iBAAiB;AACvB,MAAME,sBAAsB;AAC5B,MAAML,qBAAqB;AAC3B,MAAMI,uBAAuB;AAyI7B,IAAKE,eAAAA,WAAAA,GAAAA,SAAAA,YAAAA;;;WAAAA","ignoreList":[0]}},
    {"offset": {"line": 885, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/node_modules/%40swc/helpers/cjs/_interop_require_wildcard.cjs"],"sourcesContent":["\"use strict\";\n\nfunction _getRequireWildcardCache(nodeInterop) {\n    if (typeof WeakMap !== \"function\") return null;\n\n    var cacheBabelInterop = new WeakMap();\n    var cacheNodeInterop = new WeakMap();\n\n    return (_getRequireWildcardCache = function(nodeInterop) {\n        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n    })(nodeInterop);\n}\nfunction _interop_require_wildcard(obj, nodeInterop) {\n    if (!nodeInterop && obj && obj.__esModule) return obj;\n    if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") return { default: obj };\n\n    var cache = _getRequireWildcardCache(nodeInterop);\n\n    if (cache && cache.has(obj)) return cache.get(obj);\n\n    var newObj = { __proto__: null };\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n        if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n            if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);\n            else newObj[key] = obj[key];\n        }\n    }\n\n    newObj.default = obj;\n\n    if (cache) cache.set(obj, newObj);\n\n    return newObj;\n}\nexports._ = _interop_require_wildcard;\n"],"names":[],"mappings":"AAEA,SAAS,yBAAyB,WAAW;IACzC,IAAI,OAAO,YAAY,YAAY,OAAO;IAE1C,IAAI,oBAAoB,IAAI;IAC5B,IAAI,mBAAmB,IAAI;IAE3B,OAAO,CAAC,2BAA2B,SAAS,WAAW;QACnD,OAAO,cAAc,mBAAmB;IAC5C,CAAC,EAAE;AACP;AACA,SAAS,0BAA0B,GAAG,EAAE,WAAW;IAC/C,IAAI,CAAC,eAAe,OAAO,IAAI,UAAU,EAAE,OAAO;IAClD,IAAI,QAAQ,QAAQ,OAAO,QAAQ,YAAY,OAAO,QAAQ,YAAY,OAAO;QAAE,SAAS;IAAI;IAEhG,IAAI,QAAQ,yBAAyB;IAErC,IAAI,SAAS,MAAM,GAAG,CAAC,MAAM,OAAO,MAAM,GAAG,CAAC;IAE9C,IAAI,SAAS;QAAE,WAAW;IAAK;IAC/B,IAAI,wBAAwB,OAAO,cAAc,IAAI,OAAO,wBAAwB;IAEpF,IAAK,IAAI,OAAO,IAAK;QACjB,IAAI,QAAQ,aAAa,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,MAAM;YACrE,IAAI,OAAO,wBAAwB,OAAO,wBAAwB,CAAC,KAAK,OAAO;YAC/E,IAAI,QAAQ,CAAC,KAAK,GAAG,IAAI,KAAK,GAAG,GAAG,OAAO,cAAc,CAAC,QAAQ,KAAK;iBAClE,MAAM,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI;QAC/B;IACJ;IAEA,OAAO,OAAO,GAAG;IAEjB,IAAI,OAAO,MAAM,GAAG,CAAC,KAAK;IAE1B,OAAO;AACX;AACA,QAAQ,CAAC,GAAG","ignoreList":[0]}},
    {"offset": {"line": 920, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/node_modules/next/src/shared/lib/is-thenable.ts"],"sourcesContent":["/**\n * Check to see if a value is Thenable.\n *\n * @param promise the maybe-thenable value\n * @returns true if the value is thenable\n */\nexport function isThenable<T = unknown>(\n  promise: Promise<T> | T\n): promise is Promise<T> {\n  return (\n    promise !== null &&\n    typeof promise === 'object' &&\n    'then' in promise &&\n    typeof promise.then === 'function'\n  )\n}\n"],"names":["isThenable","promise","then"],"mappings":"AAAA;;;;;CAKC;;;+BACeA,cAAAA;;;eAAAA;;;AAAT,SAASA,WACdC,OAAuB;IAEvB,OACEA,YAAY,QACZ,OAAOA,YAAY,YACnB,UAAUA,WACV,OAAOA,QAAQC,IAAI,KAAK;AAE5B","ignoreList":[0]}},
    {"offset": {"line": 941, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/node_modules/next/src/next-devtools/dev-overlay.shim.ts"],"sourcesContent":["export function renderAppDevOverlay() {\n  throw new Error(\n    \"Next DevTools: Can't render in this environment. This is a bug in Next.js\"\n  )\n}\n\nexport function renderPagesDevOverlay() {\n  throw new Error(\n    \"Next DevTools: Can't render in this environment. This is a bug in Next.js\"\n  )\n}\n\n// TODO: Extract into separate functions that are imported\nexport const dispatcher = new Proxy(\n  {},\n  {\n    get: (_, prop) => {\n      return () => {\n        throw new Error(\n          `Next DevTools: Can't dispatch ${String(prop)} in this environment. This is a bug in Next.js`\n        )\n      }\n    },\n  }\n)\n"],"names":["dispatcher","renderAppDevOverlay","renderPagesDevOverlay","Error","Proxy","get","_","prop","String"],"mappings":";;;;;;;;;;;;;;;IAaaA,UAAU,EAAA;eAAVA;;IAbGC,mBAAmB,EAAA;eAAnBA;;IAMAC,qBAAqB,EAAA;eAArBA;;;AANT,SAASD;IACd,MAAM,OAAA,cAEL,CAFK,IAAIE,MACR,8EADI,qBAAA;eAAA;oBAAA;sBAAA;IAEN;AACF;AAEO,SAASD;IACd,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,8EADI,qBAAA;eAAA;oBAAA;sBAAA;IAEN;AACF;AAGO,MAAMH,aAAa,IAAII,MAC5B,CAAC,GACD;IACEC,KAAK,CAACC,GAAGC;QACP,OAAO;YACL,MAAM,OAAA,cAEL,CAFK,IAAIJ,MACR,CAAC,8BAA8B,EAAEK,OAAOD,MAAM,8CAA8C,CAAC,GADzF,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 1002, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/node_modules/next/src/next-devtools/userspace/use-app-dev-rendering-indicator.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useTransition } from 'react'\nimport { dispatcher } from 'next/dist/compiled/next-devtools'\n\nexport const useAppDevRenderingIndicator = () => {\n  const [isPending, startTransition] = useTransition()\n\n  useEffect(() => {\n    if (isPending) {\n      dispatcher.renderingIndicatorShow()\n    } else {\n      dispatcher.renderingIndicatorHide()\n    }\n  }, [isPending])\n\n  return startTransition\n}\n"],"names":["useAppDevRenderingIndicator","isPending","startTransition","useTransition","useEffect","dispatcher","renderingIndicatorShow","renderingIndicatorHide"],"mappings":";;;+BAKaA,+BAAAA;;;eAAAA;;;uBAH4B;8BACd;AAEpB,MAAMA,8BAA8B;IACzC,MAAM,CAACC,WAAWC,gBAAgB,GAAGC,CAAAA,GAAAA,OAAAA,aAAa;IAElDC,CAAAA,GAAAA,OAAAA,SAAS,EAAC;QACR,IAAIH,WAAW;YACbI,cAAAA,UAAU,CAACC,sBAAsB;QACnC,OAAO;YACLD,cAAAA,UAAU,CAACE,sBAAsB;QACnC;IACF,GAAG;QAACN;KAAU;IAEd,OAAOC;AACT","ignoreList":[0]}},
    {"offset": {"line": 1037, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/node_modules/next/src/client/components/use-action-queue.ts"],"sourcesContent":["import type { Dispatch } from 'react'\nimport React, { use, useMemo } from 'react'\nimport { isThenable } from '../../shared/lib/is-thenable'\nimport type { AppRouterActionQueue } from './app-router-instance'\nimport type {\n  AppRouterState,\n  ReducerActions,\n  ReducerState,\n} from './router-reducer/router-reducer-types'\n\n// The app router state lives outside of React, so we can import the dispatch\n// method directly wherever we need it, rather than passing it around via props\n// or context.\nlet dispatch: Dispatch<ReducerActions> | null = null\n\nexport function dispatchAppRouterAction(action: ReducerActions) {\n  if (dispatch === null) {\n    throw new Error(\n      'Internal Next.js error: Router action dispatched before initialization.'\n    )\n  }\n  dispatch(action)\n}\n\nconst __DEV__ = process.env.NODE_ENV !== 'production'\nconst promisesWithDebugInfo: WeakMap<\n  Promise<AppRouterState>,\n  Promise<AppRouterState> & { _debugInfo?: Array<unknown> }\n> = __DEV__ ? new WeakMap() : (null as any)\n\nexport function useActionQueue(\n  actionQueue: AppRouterActionQueue\n): AppRouterState {\n  const [state, setState] = React.useState<ReducerState>(actionQueue.state)\n\n  // Because of a known issue that requires to decode Flight streams inside the\n  // render phase, we have to be a bit clever and assign the dispatch method to\n  // a module-level variable upon initialization. The useState hook in this\n  // module only exists to synchronize state that lives outside of React.\n  // Ideally, what we'd do instead is pass the state as a prop to root.render;\n  // this is conceptually how we're modeling the app router state, despite the\n  // weird implementation details.\n  if (process.env.NODE_ENV !== 'production') {\n    const { useAppDevRenderingIndicator } =\n      require('../../next-devtools/userspace/use-app-dev-rendering-indicator') as typeof import('../../next-devtools/userspace/use-app-dev-rendering-indicator')\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const appDevRenderingIndicator = useAppDevRenderingIndicator()\n\n    dispatch = (action: ReducerActions) => {\n      appDevRenderingIndicator(() => {\n        actionQueue.dispatch(action, setState)\n      })\n    }\n  } else {\n    dispatch = (action: ReducerActions) =>\n      actionQueue.dispatch(action, setState)\n  }\n\n  // When navigating to a non-prefetched route, then App Router state will be\n  // blocked until the server responds. We need to transfer the `_debugInfo`\n  // from the underlying Flight response onto the top-level promise that is\n  // passed to React (via `use`) so that the latency is accurately represented\n  // in the React DevTools.\n  const stateWithDebugInfo = useMemo(() => {\n    if (!__DEV__) {\n      return state\n    }\n\n    if (isThenable(state)) {\n      // useMemo can't be used to cache a Promise since the memoized value is thrown\n      // away when we suspend. So we use a WeakMap to cache the Promise with debug info.\n      let promiseWithDebugInfo = promisesWithDebugInfo.get(state)\n      if (promiseWithDebugInfo === undefined) {\n        const debugInfo: Array<unknown> = []\n        promiseWithDebugInfo = Promise.resolve(state).then((asyncState) => {\n          if (asyncState.debugInfo !== null) {\n            debugInfo.push(...asyncState.debugInfo)\n          }\n          return asyncState\n        }) as Promise<AppRouterState> & { _debugInfo?: Array<unknown> }\n        promiseWithDebugInfo._debugInfo = debugInfo\n\n        promisesWithDebugInfo.set(state, promiseWithDebugInfo)\n      }\n\n      return promiseWithDebugInfo\n    }\n    return state\n  }, [state])\n\n  return isThenable(stateWithDebugInfo)\n    ? use(stateWithDebugInfo)\n    : stateWithDebugInfo\n}\n"],"names":["dispatchAppRouterAction","useActionQueue","dispatch","action","Error","__DEV__","process","env","NODE_ENV","promisesWithDebugInfo","WeakMap","actionQueue","state","setState","React","useState","useAppDevRenderingIndicator","require","appDevRenderingIndicator","stateWithDebugInfo","useMemo","isThenable","promiseWithDebugInfo","get","undefined","debugInfo","Promise","resolve","then","asyncState","push","_debugInfo","set","use"],"mappings":";;;;;;;;;;;;;;IAegBA,uBAAuB,EAAA;eAAvBA;;IAeAC,cAAc,EAAA;eAAdA;;;;iEA7BoB;4BACT;AAQ3B,6EAA6E;AAC7E,+EAA+E;AAC/E,cAAc;AACd,IAAIC,WAA4C;AAEzC,SAASF,wBAAwBG,MAAsB;IAC5D,IAAID,aAAa,MAAM;QACrB,MAAM,OAAA,cAEL,CAFK,IAAIE,MACR,4EADI,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;IACAF,SAASC;AACX;AAEA,MAAME,UAAUC,QAAQC,GAAG,CAACC,QAAQ,gCAAK;AACzC,MAAMC,wBAGFJ,uCAAU,IAAIK,YAAa;AAExB,SAAST,eACdU,WAAiC;IAEjC,MAAM,CAACC,OAAOC,SAAS,GAAGC,OAAAA,OAAK,CAACC,QAAQ,CAAeJ,YAAYC,KAAK;IAExE,6EAA6E;IAC7E,6EAA6E;IAC7E,yEAAyE;IACzE,uEAAuE;IACvE,4EAA4E;IAC5E,4EAA4E;IAC5E,gCAAgC;IAChC,IAAIN,QAAQC,GAAG,CAACC,QAAQ,KAAK,WAAc;QACzC,MAAM,EAAEQ,2BAA2B,EAAE,GACnCC,QAAQ;QACV,sDAAsD;QACtD,MAAMC,2BAA2BF;QAEjCd,WAAW,CAACC;YACVe,yBAAyB;gBACvBP,YAAYT,QAAQ,CAACC,QAAQU;YAC/B;QACF;IACF,OAAO;;IAKP,2EAA2E;IAC3E,0EAA0E;IAC1E,yEAAyE;IACzE,4EAA4E;IAC5E,yBAAyB;IACzB,MAAMM,qBAAqBC,CAAAA,GAAAA,OAAAA,OAAO,EAAC;QACjC,IAAI,CAACf,SAAS;;QAId,IAAIgB,CAAAA,GAAAA,YAAAA,UAAU,EAACT,QAAQ;YACrB,8EAA8E;YAC9E,kFAAkF;YAClF,IAAIU,uBAAuBb,sBAAsBc,GAAG,CAACX;YACrD,IAAIU,yBAAyBE,WAAW;gBACtC,MAAMC,YAA4B,EAAE;gBACpCH,uBAAuBI,QAAQC,OAAO,CAACf,OAAOgB,IAAI,CAAC,CAACC;oBAClD,IAAIA,WAAWJ,SAAS,KAAK,MAAM;wBACjCA,UAAUK,IAAI,IAAID,WAAWJ,SAAS;oBACxC;oBACA,OAAOI;gBACT;gBACAP,qBAAqBS,UAAU,GAAGN;gBAElChB,sBAAsBuB,GAAG,CAACpB,OAAOU;YACnC;YAEA,OAAOA;QACT;QACA,OAAOV;IACT,GAAG;QAACA;KAAM;IAEV,OAAOS,CAAAA,GAAAA,YAAAA,UAAU,EAACF,sBACdc,CAAAA,GAAAA,OAAAA,GAAG,EAACd,sBACJA;AACN","ignoreList":[0]}},
    {"offset": {"line": 1139, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/node_modules/next/src/client/app-call-server.ts"],"sourcesContent":["import { startTransition } from 'react'\nimport { ACTION_SERVER_ACTION } from './components/router-reducer/router-reducer-types'\nimport { dispatchAppRouterAction } from './components/use-action-queue'\n\nexport async function callServer(actionId: string, actionArgs: any[]) {\n  return new Promise((resolve, reject) => {\n    startTransition(() => {\n      dispatchAppRouterAction({\n        type: ACTION_SERVER_ACTION,\n        actionId,\n        actionArgs,\n        resolve,\n        reject,\n      })\n    })\n  })\n}\n"],"names":["callServer","actionId","actionArgs","Promise","resolve","reject","startTransition","dispatchAppRouterAction","type","ACTION_SERVER_ACTION"],"mappings":";;;+BAIsBA,cAAAA;;;eAAAA;;;uBAJU;oCACK;gCACG;AAEjC,eAAeA,WAAWC,QAAgB,EAAEC,UAAiB;IAClE,OAAO,IAAIC,QAAQ,CAACC,SAASC;QAC3BC,CAAAA,GAAAA,OAAAA,eAAe,EAAC;YACdC,CAAAA,GAAAA,gBAAAA,uBAAuB,EAAC;gBACtBC,MAAMC,oBAAAA,oBAAoB;gBAC1BR;gBACAC;gBACAE;gBACAC;YACF;QACF;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 1175, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/node_modules/next/src/client/app-find-source-map-url.ts"],"sourcesContent":["const basePath = process.env.__NEXT_ROUTER_BASEPATH || ''\nconst pathname = `${basePath}/__nextjs_source-map`\n\nexport const findSourceMapURL =\n  process.env.NODE_ENV === 'development'\n    ? function findSourceMapURL(filename: string): string | null {\n        if (filename === '') {\n          return null\n        }\n\n        if (\n          filename.startsWith(document.location.origin) &&\n          filename.includes('/_next/static')\n        ) {\n          // This is a request for a client chunk. This can only happen when\n          // using Turbopack. In this case, since we control how those source\n          // maps are generated, we can safely assume that the sourceMappingURL\n          // is relative to the filename, with an added `.map` extension. The\n          // browser can just request this file, and it gets served through the\n          // normal dev server, without the need to route this through\n          // the `/__nextjs_source-map` dev middleware.\n          return `${filename}.map`\n        }\n\n        const url = new URL(pathname, document.location.origin)\n        url.searchParams.set('filename', filename)\n\n        return url.href\n      }\n    : undefined\n"],"names":["findSourceMapURL","basePath","process","env","__NEXT_ROUTER_BASEPATH","pathname","NODE_ENV","filename","startsWith","document","location","origin","includes","url","URL","searchParams","set","href","undefined"],"mappings":";;;+BAGaA,oBAAAA;;;eAAAA;;;AAHb,MAAMC,WAAWC,QAAQC,GAAG,CAACC,sBAAsB,MAAI;AACvD,MAAMC,WAAW,GAAGJ,SAAS,oBAAoB,CAAC;AAE3C,MAAMD,mBACXE,QAAQC,GAAG,CAACG,QAAQ,KAAK,cACrB,SAASN,iBAAiBO,QAAgB;IACxC,IAAIA,aAAa,IAAI;QACnB,OAAO;IACT;IAEA,IACEA,SAASC,UAAU,CAACC,SAASC,QAAQ,CAACC,MAAM,KAC5CJ,SAASK,QAAQ,CAAC,kBAClB;QACA,kEAAkE;QAClE,mEAAmE;QACnE,qEAAqE;QACrE,mEAAmE;QACnE,qEAAqE;QACrE,4DAA4D;QAC5D,6CAA6C;QAC7C,OAAO,GAAGL,SAAS,IAAI,CAAC;IAC1B;IAEA,MAAMM,MAAM,IAAIC,IAAIT,UAAUI,SAASC,QAAQ,CAACC,MAAM;IACtDE,IAAIE,YAAY,CAACC,GAAG,CAAC,YAAYT;IAEjC,OAAOM,IAAII,IAAI;AACjB,IACAC","ignoreList":[0]}},
    {"offset": {"line": 1215, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n"],"names":["module","exports","require","vendored","ReactServerDOMTurbopackClient"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,6BAA6B","ignoreList":[0]}},
    {"offset": {"line": 1220, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IAMVC,qBAAqB,EAAA;eAArBA,QAAAA,qBAAqB;;IALrBC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;wBAKK","ignoreList":[0]}}]
}