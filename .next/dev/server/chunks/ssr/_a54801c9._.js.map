{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst prismaClientSingleton = () => {\n  // Ensure DATABASE_URL is set. In Next.js, this is typically handled by\n  // environment variables loaded from .env.local, etc.\n  // If not set, PrismaClient will throw an error when trying to connect,\n  // which is preferable to an undefined 'prisma' object.\n  return new PrismaClient()\n}\n\ndeclare global {\n  var prismaGlobal: undefined | ReturnType<typeof prismaClientSingleton>\n}\n\nconst prisma = globalThis.prismaGlobal ?? prismaClientSingleton()\n\nexport default prisma\n\nif (process.env.NODE_ENV !== 'production') globalThis.prismaGlobal = prisma"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,wBAAwB;IAC5B,uEAAuE;IACvE,qDAAqD;IACrD,uEAAuE;IACvE,uDAAuD;IACvD,OAAO,IAAI,sMAAY;AACzB;AAMA,MAAM,SAAS,WAAW,YAAY,IAAI;uCAE3B;AAEf,wCAA2C,WAAW,YAAY,GAAG"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/app/poker/actions.ts"],"sourcesContent":["\"use server\";\n\nimport prisma from \"@/lib/prisma\";\nimport { revalidatePath } from \"next/cache\";\n\nexport async function addAchiever(name: string, gold: number) {\n  // Validate name: 4 uppercase alphabetic characters\n  if (!/^[A-Z]{1,4}$/.test(name)) {\n    return { error: \"Name must be 1 to 4 uppercase alphabetic characters.\" };\n  }\n\n  // Enforce gold cap\n  let cappedGold = gold;\n  if (cappedGold > 65535) {\n    cappedGold = 65535;\n  }\n  if (cappedGold < 0) { // Also ensure non-negative\n      cappedGold = 0;\n  }\n\n  try {\n    const newAchiever = await prisma.pokerAchiever.create({\n      data: {\n        name,\n        finalGold: cappedGold, // Use the capped gold value\n      },\n    });\n    revalidatePath(\"/poker\"); // Revalidate the poker page to show updated ranking\n    return { success: true, data: newAchiever };\n  } catch (error: any) {\n    if (error.code === 'P2002') { // Unique constraint violation\n      return { error: `Achiever with name '${name}' already exists.` };\n    }\n    console.error(\"Error adding poker achiever:\", error);\n    return { error: \"Failed to add achiever.\" };\n  }\n}\n\nexport async function getAchievers() {\n  try {\n    const achievers = await prisma.pokerAchiever.findMany({\n      orderBy: {\n        achievedAt: \"asc\", // Order by achievement date, oldest first\n      },\n      take: 10, // Get top 10 achievers, adjust as needed\n    });\n    return { success: true, data: achievers };\n  } catch (error) {\n    console.error(\"Error fetching poker achievers:\", error);\n    return { error: \"Failed to fetch achievers.\" };\n  }\n}"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;;;AAEO,eAAe,YAAY,IAAY,EAAE,IAAY;IAC1D,mDAAmD;IACnD,IAAI,CAAC,eAAe,IAAI,CAAC,OAAO;QAC9B,OAAO;YAAE,OAAO;QAAuD;IACzE;IAEA,mBAAmB;IACnB,IAAI,aAAa;IACjB,IAAI,aAAa,OAAO;QACtB,aAAa;IACf;IACA,IAAI,aAAa,GAAG;QAChB,aAAa;IACjB;IAEA,IAAI;QACF,MAAM,cAAc,MAAM,wHAAM,CAAC,aAAa,CAAC,MAAM,CAAC;YACpD,MAAM;gBACJ;gBACA,WAAW;YACb;QACF;QACA,IAAA,+IAAc,EAAC,WAAW,oDAAoD;QAC9E,OAAO;YAAE,SAAS;YAAM,MAAM;QAAY;IAC5C,EAAE,OAAO,OAAY;QACnB,IAAI,MAAM,IAAI,KAAK,SAAS;YAC1B,OAAO;gBAAE,OAAO,CAAC,oBAAoB,EAAE,KAAK,iBAAiB,CAAC;YAAC;QACjE;QACA,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO;YAAE,OAAO;QAA0B;IAC5C;AACF;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,YAAY,MAAM,wHAAM,CAAC,aAAa,CAAC,QAAQ,CAAC;YACpD,SAAS;gBACP,YAAY;YACd;YACA,MAAM;QACR;QACA,OAAO;YAAE,SAAS;YAAM,MAAM;QAAU;IAC1C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;QACjD,OAAO;YAAE,OAAO;QAA6B;IAC/C;AACF;;;IA9CsB;IAiCA;;AAjCA,+OAAA;AAiCA,+OAAA"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/taisaitou/GeminiCLI/.next-internal/server/app/poker/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {addAchiever as '6065710c8c11ada75cf33df625aa07246d096d081b'} from 'ACTIONS_MODULE0'\nexport {getAchievers as '00ba1b7e12ba232d78e9432a6aeae8f52cfd8c26e0'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}